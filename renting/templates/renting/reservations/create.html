{% extends 'renting/base.html' %}
{% load static %}

{% block content %}
<style>
    body { background-color: #f4f7f9 !important; }
    .res-card {
        border-radius: 1.5rem;
        background: #ffffff;
        border: none;
        box-shadow: 0 20px 40px rgba(0,0,0,0.04);
    }
    .res-header {
        background: linear-gradient(135deg, #1a2a6c, #2a4858);
        border-radius: 1.5rem 1.5rem 0 0;
        padding: 2rem;
    }
    .form-select, .form-control {
        border-radius: 0.75rem;
        padding: 0.75rem 1rem;
    }
</style>

<div class="row justify-content-center mt-5">
    <div class="col-md-8 col-lg-6">
        <div class="card res-card">
            <div class="res-header text-center">
                <h4 class="text-white fw-bold mb-0">Book Your Vehicle</h4>
                <p class="text-white-50 small mb-0 mt-1">Select dates and confirm your selection.</p>
            </div>
            
            <div class="card-body p-5">
                <div id="global-error" class="alert alert-danger d-none py-2 small border-0 mb-4"></div>

                <form id="res-create-form" novalidate>
                    <div class="mb-4">
                        <label class="form-label small fw-bold text-muted">VEHICLE SELECTION</label>
                        <select id="car-select" class="form-select border-light-subtle bg-light-subtle fw-semibold" required>
                            <option value="">Searching for available fleet...</option>
                        </select>
                        <div id="error-car" class="text-danger small mt-1"></div>
                    </div>

                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label small fw-bold text-muted">PICK-UP DATE</label>
                            <input type="date" id="start_date" class="form-control border-light-subtle shadow-sm" required>
                            <div id="error-start_date" class="text-danger small mt-1"></div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label small fw-bold text-muted">RETURN DATE</label>
                            <input type="date" id="end_date" class="form-control border-light-subtle shadow-sm" required>
                            <div id="error-end_date" class="text-danger small mt-1"></div>
                        </div>
                    </div>

                    <div class="mt-5">
                        <button type="submit" class="btn btn-primary w-100 py-3 fw-bold rounded-3 shadow mb-3">Request Reservation</button>
                        <div class="text-center">
                            <a href="{% url 'reservation_list' %}" class="text-muted small text-decoration-none">‚Üê Return to List</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Reservation Form JavaScript -->
<script src="{% static 'renting/js/reservation_create.js' %}"></script>
{% endblock %}
