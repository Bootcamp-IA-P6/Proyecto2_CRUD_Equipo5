<!-- templates/renting/login.html -->
{% extends 'renting/base.html' %}
{% block content %}
<div class="card p-4 mx-auto shadow" style="max-width: 400px;">
    <h3 class="text-center mb-4">Login</h3>
    <form method="POST">
        {% csrf_token %}
        <div class="mb-3">
            <label>Email</label>
            <input type="email" name="email" class="form-control" required>
        </div>
        <div class="mb-3">
            <label>Password</label>
            <input type="password" name="password" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">Login</button>
    </form>
</div>
{% endblock %}
{% if success %}
<script>
    // 서버에서 받은 JWT 토큰을 로컬 스토리지에 저장 (이슈 #28 달성!)
    localStorage.setItem('tokens', JSON.stringify({ access: "{{ access_token }}" }));
    alert("Login successful! JWT stored.");
    window.location.href = "{% url 'home' %}";
</script>
{% endif %}